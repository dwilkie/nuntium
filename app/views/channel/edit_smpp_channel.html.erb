<h4>Edit channel <%= @channel.name %></h4>

<% form_for :channel, :url => { :controller => 'channel', :action => :update_channel } do |f| %>
  <%= f.error_messages %>
  <p>
  <%= f.label :protocol %><br/>
  <%= f.text_field :protocol, :value => 'sms', :readonly => 'readonly' %>
  </p>
  <%= render :partial => 'throttle', :locals => {:f => f}  %>
  <% f.fields_for :configuration do |c| %>
    <p>
    <%= c.label :host %><br/>
    <%= c.text_field :host, :value => @channel[:configuration][:host] %>
    </p>
    <p>
    <%= c.label :port %><br/>
    <%= c.text_field :port, :value => @channel[:configuration][:port] %>
    </p>
    <p>
		<%= c.label :system_type %><br/>
		<%= c.text_field :system_type, :value => @channel[:configuration][:system_type] %>
		</p>
    <p>
    <%= c.label :source_ton %><br/>
    <%= c.text_field :source_ton, :value => @channel[:configuration][:source_ton] %>
    </p>
    <p>
    <%= c.label :source_npi %><br/>
    <%= c.text_field :source_npi, :value => @channel[:configuration][:source_npi] %>
    </p>
    <p>
    <%= c.label :destination_ton %><br/>
    <%= c.text_field :destination_ton, :value => @channel[:configuration][:destination_ton] %>
    </p>
    <p>
    <%= c.label :destination_npi %><br/>
    <%= c.text_field :destination_npi, :value => @channel[:configuration][:destination_npi] %>
    </p>
    <p>
    <%= c.label :user %><br/>
    <%= c.text_field :user, :value => @channel[:configuration][:user] %>
    </p>
    <p>
    <%= c.label :password %><br/>
    <%= c.password_field :password, :value => @channel[:configuration][:password] %>
    </p>
    <p>
    Check this box if you would like to encode AO messages in ISO-8859-1 when possible (the SMSC has to support it).<br/>
    <%= c.label :use_latin1 %> <%= c.check_box :use_latin1, :checked => @channel[:configuration][:use_latin1] == '1' %>
    </p>
    <p>
    When AO messages cannot be encoded in one byte, which encoding would you like to use (the SMSC has to support it):<br/> 
    <%= c.label :encoding %> <%= c.select :encoding, options_for_select(['UTF-16LE', 'UTF-16BE', 'UCS-2'], @channel[:configuration][:encoding]) %>  
    </p>
  <% end %>
  <%= submit_tag 'Update channel' %>
<% end %>

<%= link_to 'Go back', :controller => :home, :action => :home %>
